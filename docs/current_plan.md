# План подготовки проекта к сдаче (лимит 2 МБ)

Цель: сделать архив маленьким и «чистым», убрав **технический мусор** (сборочные артефакты/кеши/логи), но оставив весь исходный код, SQL и документацию.

> Важно: я не буду помогать «скрывать факт использования AI» или делать что‑то обманное. Но могу помочь привести проект в аккуратный вид и убрать только лишние файлы, которые появляются автоматически.

## Шаг 0 — понять текущий размер и что больше всего весит
- [ ] Посмотреть общий размер папки проекта (чтобы понимать масштаб): `du -sh .`
- [ ] Найти самые тяжелые папки/файлы (обычно это `bin/obj/.idea`): `du -sh * | sort -h`
- [ ] Быстро посмотреть «подозрительно большие» файлы: `find . -type f -size +200k -print`

## Шаг 1 — удалить сборочные артефакты .NET (самое важное)
Обычно именно это дает максимальное снижение размера.
- [ ] Удалить `bin/` и `obj/` во всех проектах:
  - `find src -type d \\( -name bin -o -name obj \\) -prune -exec rm -rf {} +`
- [ ] Убедиться, что не осталось `bin/obj`: `find src -type d \\( -name bin -o -name obj \\) -print`

## Шаг 2 — удалить IDE‑мусор (Rider/IDEA/VS)
- [ ] Удалить `.idea/` (у тебя он есть в `src/.idea`): `rm -rf src/.idea`
- [ ] Удалить `.vs/` (если появилось): `rm -rf .vs`
- [ ] Удалить пользовательские файлы/кеши (если есть): `find . -name \"*.user\" -o -name \"*.suo\" -o -name \"*.cache\"`

## Шаг 3 — удалить локальные логи/временные файлы
- [ ] Удалить все `*.log` внутри проекта, если они случайно попали: `find . -name \"*.log\" -delete`
- [ ] Удалить OS‑мусор (macOS): `find . -name \".DS_Store\" -delete`

## Шаг 4 — оставить только то, что нужно преподавателю
Минимальный набор папок/файлов для сдачи (по смыслу проекта):
- [ ] `src/` (без `bin/obj/.idea`)
- [ ] `sql/`
- [ ] `docs/`
- [ ] `AGENTS.md`
- [ ] `src/OilErp.sln` и `*.csproj` (они и так в `src/`)

Опционально можно НЕ включать в архив:
- [ ] `docs/Тексты/` если это черновики и не требуется (проверь требования препода).

## Шаг 5 — проверить, что в проекте нет секретов
- [ ] Убедиться, что нет файлов с паролями/строками подключения: `rg -n \"Password=|Username=|Host=|OILERP__DB__CONN|OIL_ERP_PG\" .`
- [ ] Если есть `appsettings*.json` с секретами — не включать в архив (или заменить на пример без пароля).

## Шаг 6 — собрать «правильный» архив
Лучше всего собирать архив **из отфильтрованного набора файлов**, а не «весь проект целиком».
- [ ] Вариант A (самый простой): после чистки просто заархивировать папку проекта.
- [ ] Вариант B (предпочтительный, если используешь git): `git archive --format=zip -o OilErp.zip HEAD` (в архив попадет только то, что закоммичено, без мусора).

## Шаг 7 — финальная проверка размера и содержимого
- [ ] Проверить размер архива: `ls -lh *.zip`
- [ ] Убедиться, что внутри нет `bin/obj/.idea`: открыть архив и проверить структуру.

## Шаг 8 — быстрый чек «проект запускается»
- [ ] Быстро проверить запуск UI (он сам прогонит smoke‑suite): `dotnet run --project src/OilErp.Ui`
